/*! mota-evaluador v0.1.0 | (c) 2019  | MIT License | https://github.com/Dejusticia/mota-evaluador-publico */
!(function(e){if("content"in e.createElement("template"))return!1;for(var t,r,n,a=e.getElementsByTagName("template"),o=a.length,i=0;i<o;++i){for((r=(t=a[i]).childNodes).length,n=e.createDocumentFragment();r[0];)n.appendChild(r[0]);t.content=n}})(document),(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Gumshoe=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(e){"use strict";var t,r,n,a,o,i,l,c,u,s,d=function(e){var l=e.rules,c=e.meta.lastEvaluationDate,d=function(e,l,c){if("recommendation"===c)switch(l){case"AAA":n.appendChild(e);break;case"AA":r.appendChild(e);break;default:t.appendChild(e)}else switch(l){case"AAA":i.appendChild(e);break;case"AA":o.appendChild(e);break;default:a.appendChild(e)}};u.innerHTML="<b>URL:</b>"+e.meta.entityUrl,c=(c=c.replace("T"," - ")).substring(0,c.length-6),s.innerHTML="<b>Fecha de Evaluación:</b>"+c;for(var m=0;m<l.length;m++){var p=l[m],f=p.rule,y=p.type,g=p.grade,h="0",b=document.getElementById("template-results-criteria").content.cloneNode(!0),A=b.querySelector(".results-criteria-grade meter"),v=b.querySelector(".results-criteria-grade label"),q=b.querySelector(".results-criteria");"AAA"===g?h=100:"AA"===g?h=50:"A"===g&&(h=20),b.querySelector("summary").innerText=p.title,b.querySelector("details p").innerHTML="<p>"+p.shortDescription+' <a href="#" class="more-link">Más Informaciones.</a></p>',b.querySelector("td.results-criteria-type").innerText=y,q.setAttribute("id","criteria-"+f),v.innerText=g,v.setAttribute("for","grade-"+f),A.setAttribute("value",h),A.setAttribute("id","grade-"+f),A.setAttribute("name","grade-"+f),A.innerText=h,d(b,g,y)}};t=document.querySelector(".legal-obligations.unsatisfactory"),r=document.querySelector(".legal-obligations.partial"),n=document.querySelector(".legal-obligations.satisfactory"),a=document.querySelector(".recommendations.unsatisfactory"),o=document.querySelector(".recommendations.partial"),i=document.querySelector(".recommendations.satisfactory"),l=document.getElementById("evaluate-form"),document.getElementById("evaluate-url"),u=document.getElementById("results-summary-url"),s=document.getElementById("results-summary-date");document.addEventListener("submit",(function(e){var t;e.preventDefault(),l===e.target&&atomic("http://localhost:3000/reports/report-corteconstitucional-gov-co.json",t).then((function(e){return c=e.data,d(c),c})).catch((function(e){console.error("error code",e.status),console.error("error description",e.statusText)}))}),!1)}));