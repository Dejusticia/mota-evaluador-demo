/*! mota-evaluador v0.1.0 | (c) 2019  | MIT License | https://github.com/Dejusticia/mota-evaluador-publico */
!(function(e){if("content"in e.createElement("template"))return!1;for(var t,r,n,o=e.getElementsByTagName("template"),a=o.length,i=0;i<a;++i){for((r=(t=o[i]).childNodes).length,n=e.createDocumentFragment();r[0];)n.appendChild(r[0]);t.content=n}})(document),(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Gumshoe=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(e){"use strict";var t,r,n,o,a,i,l,c,s,u,d=function(e,l,c){if("recommendation"===c)switch(l){case"AAA":n.appendChild(e);break;case"AA":r.appendChild(e);break;default:t.appendChild(e)}else switch(l){case"AAA":i.appendChild(e);break;case"AA":a.appendChild(e);break;default:o.appendChild(e)}},m=function(e){for(var t=e.rules,r=e.meta.lastEvaluationDate,n=0;n<t.length;n++){var o=t[n],a=o.rule,i=o.type,l=o.grade,c="0",m=document.getElementById("template-results-criteria").content.cloneNode(!0),p=m.querySelector(".results-criteria-grade meter"),f=m.querySelector(".results-criteria-grade label"),y=m.querySelector(".results-criteria");"AAA"===l?c=100:"AA"===l?c=50:"A"===l&&(c=20),m.querySelector("summary").innerText=o.title,m.querySelector("details p").innerHTML="<p>"+o.shortDescription+' <a href="#" class="more-link">Más Informaciones.</a></p>',m.querySelector("td.results-criteria-type").innerText=i,y.setAttribute("id","criteria-"+a),f.innerText=l,f.setAttribute("for","grade-"+a),p.setAttribute("value",c),p.setAttribute("id","grade-"+a),p.setAttribute("name","grade-"+a),p.innerText=c,s.innerHTML="<b>URL:</b>"+e.meta.entityUrl,r=(r=r.replace("T"," - ")).substring(0,r.length-6),u.innerHTML="<b>Fecha de Evaluación:</b>"+r,d(m,l,i)}};t=document.querySelector(".legal-obligations.unsatisfactory"),r=document.querySelector(".legal-obligations.partial"),n=document.querySelector(".legal-obligations.satisfactory"),o=document.querySelector(".recommendations.unsatisfactory"),a=document.querySelector(".recommendations.partial"),i=document.querySelector(".recommendations.satisfactory"),l=document.getElementById("evaluate-form"),document.getElementById("evaluate-url"),s=document.getElementById("results-summary-url"),u=document.getElementById("results-summary-date"),document.addEventListener("submit",(function(e){e.preventDefault(),l===e.target&&atomic("http://localhost:3000/reports/report-corteconstitucional-gov-co.json",{responseType:"json"}).then((function(e){return c=e.data,m(c),c})).catch((function(e){console.error("error code",e.status),console.error("error description",e.statusText)}))}),!1)}));